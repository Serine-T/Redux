{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { API_LINK } from '../../helpers/constants';\nexport const gettingCategories = createAsyncThunk('categories/gettingCategories', async (name, thunkAPI) => {\n  try {\n    const resp = await axios(`${API_LINK}/categories`);\n    return resp.data;\n  } catch (error) {\n    return thunkAPI.rejectWithValue('something went wrong');\n  }\n});\nexport const gettingCats = (id, page) => async dispatch => {\n  const getCats = async () => {\n    const response = await fetch(`${API_LINK}/images/search?limit=10&page=${page}&category_ids=${id}`);\n    const catsList = await response.json();\n    return catsList;\n  };\n\n  try {\n    const cats = await getCats();\n\n    if (page === 1) {\n      dispatch(catsActions.gettingCatsList(cats));\n    } else {\n      dispatch(catsActions.gettingMoreCats(cats));\n    }\n  } catch (error) {\n    dispatch(catsActions.setStatus('error'));\n  }\n};\nconst catsSlice = createSlice({\n  name: 'cats',\n  initialState: {\n    catsList: [],\n    catsMoreList: [],\n    catsStatus: 'pending'\n  },\n  reducers: {\n    gettingCatsList(state, action) {\n      state.catsList = [...action.payload];\n    },\n\n    gettingMoreCats(state, action) {\n      state.catsList = [...state.catsList, ...action.payload];\n    },\n\n    setStatus(state, action) {\n      state.catsStatus = action.payload;\n    }\n\n  }\n});\nexport const catsActions = catsSlice.actions;\nexport default catsSlice;","map":{"version":3,"sources":["/Users/serine/Desktop/Redux_projects/src/store/reducers/catsSlice.js"],"names":["createSlice","API_LINK","gettingCategories","createAsyncThunk","name","thunkAPI","resp","axios","data","error","rejectWithValue","gettingCats","id","page","dispatch","getCats","response","fetch","catsList","json","cats","catsActions","gettingCatsList","gettingMoreCats","setStatus","catsSlice","initialState","catsMoreList","catsStatus","reducers","state","action","payload","actions"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAGA,OAAO,MAAOC,iBAAiB,GAAGC,gBAAgB,CAChD,8BADgD,EAEhD,OAAOC,IAAP,EAAaC,QAAb,KAA0B;AACxB,MAAI;AACF,UAAMC,IAAI,GAAG,MAAMC,KAAK,CAAE,GAAEN,QAAS,aAAb,CAAxB;AAEA,WAAOK,IAAI,CAACE,IAAZ;AACD,GAJD,CAIE,OAAOC,KAAP,EAAc;AACd,WAAOJ,QAAQ,CAACK,eAAT,CAAyB,sBAAzB,CAAP;AACD;AACF,CAV+C,CAA3C;AAYP,OAAO,MAAMC,WAAW,GAAG,CAACC,EAAD,EAAKC,IAAL,KAAc,MAAOC,QAAP,IAAoB;AAC3D,QAAMC,OAAO,GAAG,YAAY;AAC1B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEhB,QAAS,gCAA+BY,IAAK,iBAAgBD,EAAG,EADzC,CAA5B;AAGA,UAAMM,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAvB;AAEA,WAAOD,QAAP;AACD,GAPD;;AASA,MAAI;AACF,UAAME,IAAI,GAAG,MAAML,OAAO,EAA1B;;AACA,QAAIF,IAAI,KAAK,CAAb,EAAgB;AACdC,MAAAA,QAAQ,CAACO,WAAW,CAACC,eAAZ,CAA4BF,IAA5B,CAAD,CAAR;AACD,KAFD,MAEO;AACLN,MAAAA,QAAQ,CAACO,WAAW,CAACE,eAAZ,CAA4BH,IAA5B,CAAD,CAAR;AACD;AACF,GAPD,CAOE,OAAOX,KAAP,EAAc;AACdK,IAAAA,QAAQ,CAACO,WAAW,CAACG,SAAZ,CAAsB,OAAtB,CAAD,CAAR;AACD;AACF,CApBM;AAsBP,MAAMC,SAAS,GAAGzB,WAAW,CAAC;AAC5BI,EAAAA,IAAI,EAAE,MADsB;AAE5BsB,EAAAA,YAAY,EAAE;AACZR,IAAAA,QAAQ,EAAE,EADE;AAEZS,IAAAA,YAAY,EAAE,EAFF;AAGZC,IAAAA,UAAU,EAAE;AAHA,GAFc;AAO5BC,EAAAA,QAAQ,EAAE;AACRP,IAAAA,eAAe,CAACQ,KAAD,EAAQC,MAAR,EAAgB;AAC7BD,MAAAA,KAAK,CAACZ,QAAN,GAAiB,CAAC,GAAGa,MAAM,CAACC,OAAX,CAAjB;AACD,KAHO;;AAIRT,IAAAA,eAAe,CAACO,KAAD,EAAQC,MAAR,EAAgB;AAC7BD,MAAAA,KAAK,CAACZ,QAAN,GAAiB,CAAC,GAAGY,KAAK,CAACZ,QAAV,EAAoB,GAAGa,MAAM,CAACC,OAA9B,CAAjB;AACD,KANO;;AAORR,IAAAA,SAAS,CAACM,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACF,UAAN,GAAmBG,MAAM,CAACC,OAA1B;AACD;;AATO;AAPkB,CAAD,CAA7B;AAoBA,OAAO,MAAMX,WAAW,GAAGI,SAAS,CAACQ,OAA9B;AACP,eAAeR,SAAf","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { API_LINK } from '../../helpers/constants';\n\n\nexport const  gettingCategories = createAsyncThunk(\n  'categories/gettingCategories',\n  async (name, thunkAPI) => {\n    try {\n      const resp = await axios(`${API_LINK}/categories`);\n\n      return resp.data;\n    } catch (error) {\n      return thunkAPI.rejectWithValue('something went wrong');\n    }\n  }\n);\nexport const gettingCats = (id, page) => async (dispatch) => {\n  const getCats = async () => {\n    const response = await fetch(\n      `${API_LINK}/images/search?limit=10&page=${page}&category_ids=${id}`,\n    );\n    const catsList = await response.json();\n\n    return catsList;\n  };\n\n  try {\n    const cats = await getCats();\n    if (page === 1) {\n      dispatch(catsActions.gettingCatsList(cats));\n    } else {\n      dispatch(catsActions.gettingMoreCats(cats));\n    }\n  } catch (error) {\n    dispatch(catsActions.setStatus('error'));\n  }\n};\n\nconst catsSlice = createSlice({\n  name: 'cats',\n  initialState: {\n    catsList: [],\n    catsMoreList: [],\n    catsStatus: 'pending',\n  },\n  reducers: {\n    gettingCatsList(state, action) {\n      state.catsList = [...action.payload];\n    },\n    gettingMoreCats(state, action) {\n      state.catsList = [...state.catsList, ...action.payload];\n    },\n    setStatus(state, action) {\n      state.catsStatus = action.payload;\n    },\n  },\n});\n\nexport const catsActions = catsSlice.actions;\nexport default catsSlice;\n"]},"metadata":{},"sourceType":"module"}