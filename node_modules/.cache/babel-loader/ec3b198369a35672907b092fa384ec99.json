{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { API_LINK } from '../../helpers/constants';\nexport const gettingCats = (id, page) => async dispatch => {\n  const getCats = async () => {\n    const response = await fetch(`${API_LINK}/images/search?limit=10&page=${page}&category_ids=${id}`);\n    const catsList = await response.json();\n    return catsList;\n  };\n\n  try {\n    const cats = await getCats();\n\n    if (page === 1) {\n      dispatch(catsActions.gettingCatsList(cats));\n    } else {\n      dispatch(catsActions.gettingMoreCats(cats));\n    }\n  } catch (error) {\n    dispatch(catsActions.setStatus('error'));\n  }\n};\nconst catsSlice = createSlice({\n  name: 'cats',\n  initialState: {\n    catsList: [],\n    catsMoreList: [],\n    catsStatus: 'pending'\n  },\n  reducers: {\n    gettingCatsList(state, action) {\n      state.catsList = [...action.payload];\n    },\n\n    gettingMoreCats(state, action) {\n      state.catsList = [...state.catsList, ...action.payload];\n    },\n\n    setStatus(state, action) {\n      state.catsStatus = action.payload;\n    }\n\n  }\n});\nexport const catsActions = catsSlice.actions;\nexport default catsSlice;","map":{"version":3,"sources":["/Users/serine/Desktop/Redux_projects/src/store/reducers/catsSlice.js"],"names":["createSlice","API_LINK","gettingCats","id","page","dispatch","getCats","response","fetch","catsList","json","cats","catsActions","gettingCatsList","gettingMoreCats","error","setStatus","catsSlice","name","initialState","catsMoreList","catsStatus","reducers","state","action","payload","actions"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,yBAAzB;AAGA,OAAO,MAAMC,WAAW,GAAG,CAACC,EAAD,EAAKC,IAAL,KAAc,MAAOC,QAAP,IAAoB;AAC3D,QAAMC,OAAO,GAAG,YAAY;AAC1B,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CACzB,GAAEP,QAAS,gCAA+BG,IAAK,iBAAgBD,EAAG,EADzC,CAA5B;AAGA,UAAMM,QAAQ,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAvB;AAEA,WAAOD,QAAP;AACD,GAPD;;AASA,MAAI;AACF,UAAME,IAAI,GAAG,MAAML,OAAO,EAA1B;;AACA,QAAIF,IAAI,KAAK,CAAb,EAAgB;AACdC,MAAAA,QAAQ,CAACO,WAAW,CAACC,eAAZ,CAA4BF,IAA5B,CAAD,CAAR;AACD,KAFD,MAEO;AACLN,MAAAA,QAAQ,CAACO,WAAW,CAACE,eAAZ,CAA4BH,IAA5B,CAAD,CAAR;AACD;AACF,GAPD,CAOE,OAAOI,KAAP,EAAc;AACdV,IAAAA,QAAQ,CAACO,WAAW,CAACI,SAAZ,CAAsB,OAAtB,CAAD,CAAR;AACD;AACF,CApBM;AAuBP,MAAMC,SAAS,GAAGjB,WAAW,CAAC;AAC5BkB,EAAAA,IAAI,EAAE,MADsB;AAE5BC,EAAAA,YAAY,EAAE;AACZV,IAAAA,QAAQ,EAAE,EADE;AAEZW,IAAAA,YAAY,EAAE,EAFF;AAGZC,IAAAA,UAAU,EAAE;AAHA,GAFc;AAO5BC,EAAAA,QAAQ,EAAE;AACRT,IAAAA,eAAe,CAACU,KAAD,EAAQC,MAAR,EAAgB;AAC7BD,MAAAA,KAAK,CAACd,QAAN,GAAiB,CAAC,GAAGe,MAAM,CAACC,OAAX,CAAjB;AACD,KAHO;;AAIRX,IAAAA,eAAe,CAACS,KAAD,EAAQC,MAAR,EAAgB;AAC7BD,MAAAA,KAAK,CAACd,QAAN,GAAiB,CAAC,GAAGc,KAAK,CAACd,QAAV,EAAoB,GAAGe,MAAM,CAACC,OAA9B,CAAjB;AACD,KANO;;AAORT,IAAAA,SAAS,CAACO,KAAD,EAAQC,MAAR,EAAgB;AACvBD,MAAAA,KAAK,CAACF,UAAN,GAAmBG,MAAM,CAACC,OAA1B;AACD;;AATO;AAPkB,CAAD,CAA7B;AAoBA,OAAO,MAAMb,WAAW,GAAGK,SAAS,CAACS,OAA9B;AACP,eAAeT,SAAf","sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { API_LINK } from '../../helpers/constants';\n\n\nexport const gettingCats = (id, page) => async (dispatch) => {\n  const getCats = async () => {\n    const response = await fetch(\n      `${API_LINK}/images/search?limit=10&page=${page}&category_ids=${id}`,\n    );\n    const catsList = await response.json();\n\n    return catsList;\n  };\n\n  try {\n    const cats = await getCats();\n    if (page === 1) {\n      dispatch(catsActions.gettingCatsList(cats));\n    } else {\n      dispatch(catsActions.gettingMoreCats(cats));\n    }\n  } catch (error) {\n    dispatch(catsActions.setStatus('error'));\n  }\n};\n\n\nconst catsSlice = createSlice({\n  name: 'cats',\n  initialState: {\n    catsList: [],\n    catsMoreList: [],\n    catsStatus: 'pending',\n  },\n  reducers: {\n    gettingCatsList(state, action) {\n      state.catsList = [...action.payload];\n    },\n    gettingMoreCats(state, action) {\n      state.catsList = [...state.catsList, ...action.payload];\n    },\n    setStatus(state, action) {\n      state.catsStatus = action.payload;\n    },\n  },\n});\n\nexport const catsActions = catsSlice.actions;\nexport default catsSlice;\n"]},"metadata":{},"sourceType":"module"}